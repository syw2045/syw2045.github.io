---
title: "[논문] DEEP THINK WITH CONFIDENCE"

categories:
  - Papers
tags:
  - [LLM]

toc: true
toc_sticky: true

date: 2025-09-12
last_modified_at: 2025-09-12
---

![image.png](attachment:ab596980-8159-47b8-9997-2a2caa363300:image.png)

# 0. Abstract
LLM은 self-consistency와 같은 test-time scaling 기법을 통해 추론 과제에서 큰 잠재력을 보여주었다.

- Test-time scaling: 학습 단계가 아닌 사용 단계에서 성능을 높이는 방법
- Self-consistency: 하나의 문제를 여러 번 풀어 다양한 추론 경로를 생성하고 가장 많이 나오는 답을 최종 선택

### Problem

그러나 이러한 접근은 정확도 diminishing returns 문제와 높은 연산 비용 문제를 갖는다.

### Solution

이를 해결하기 위해 Deep Think with Confidence (DeepConf) 방법 제안한다.

- 모델 내부의 confidence signal을 활용하여, 생성 중 혹은 생성 후 저품질 추론 경로를 동적으로 거른다.
- 추가적인 모델 학습이나 하이퍼파라미터 조정이 필요 없고 기존 프레임워크에 쉽게 통합이 가능하다.

---

# 1. Introduction

LLM은 test-time inference를 개선하는 기법을 적용할 경우 뛰어난 추론 능력을 보여준다. 대표적인 방법은 self-consistency로 여러 추론 경로를 샘플링하고 최종 답변을 다수결로 결정하는 방식으로 parallel thinking이라고도 한다.

이 방식은 추론 정확도를 크게 향상시키지만 다음과 같은 한계가 있다

1. 높은 계산 비용(Cost): 쿼리마다 많은 추론 경로를 생성해야 해 오버헤드가 선형적으로 증가한다.
2. Diminishing Returns: 추론 경로를 늘려도 성능이 포화되거나 오히려 감소하는 현상이 발생한다.
3. 품질 차이 무시: 표준 다수결은 모든 추론 경로를 동일하게 취급해, 저품질 경로가 많으면 최종 성능이 떨어질 수 있다.

최근 연구에서는 next-token distribution 통계를 활용해 추론 경로의 품질을 평가하는 시도가 이루어졌다.

일반적으로 모델의 prediction confidence가 높을수록 엔트로피(entropy)는 낮고, 불확실성도 줄어든다.

이에 따라 토큰 단위의 엔트로피나 confidence score를 집계하여 전체 추론 경로의 global confidence measure를 계산하고, 이를 이용해 저품질 경로를 걸러내 다수결 성능을 높이는 방법이 제안되었다.

그러나 이러한 global confidence measures에도 한계가 있다:

1. 국소적 오류 은폐 문제: 전체 평균을 내는 과정에서 중간 단계의 중요한 confidence fluctuation가 가려질 수 있다.
2. global confidence measures는 전체 추론 경로가 완전히 생성된 후에야 계산할 수 있어 저품질 경로를 early stopping 할 수 없다.

이를 해결하기 위해 Deep Think with Confidence (DeepConf)를 제안함

- DeepConf는 parallel thinking과 confidence-aware filtering을 결합한 간단하면서도 효과적인 test-time 기법
- local confidence를 기반으로 생성 중 또는 생성 직후 저신뢰 추론 경로를 식별, 폐기해 불필요한 토큰 생성을 크게 줄이면서도 정확도를 유지하거나 오히려 향상시킬 수 있다.

![image.png](attachment:97cc8341-5e8b-4dec-a2a5-3bbfd2cf487c:image.png)

DeepConf는 표준 다수결에 비해 훨씬 적은 토큰을 사용하면서도 더 우수한 추론 성능 달성.

1. 오프라인 모드에서는 99.9% 정확도 달성
2. 온라인 모드에서 실시간 제어 적용시 최대 84.7% 토큰 생성 절감하면서도 정확도 유지 혹은 초과

[맨 위로 이동하기](#){: .btn .btn--primary }{: .align-right}
